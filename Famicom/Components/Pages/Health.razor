@page "/health"
@inherits HealthBase

<PageTitle>Health Panel</PageTitle>

<MudContainer MaxWidth="MaxWidth.Medium">
    <MudText Typo="Typo.h1">Health Panel</MudText>

    <!-- Health Data Display -->
    <MudCard Class="mt-4">
        <MudCardContent>
            <MudText Typo="Typo.h6">Health Data</MudText>
            <MudText Typo="Typo.subtitle1">@HealthData</MudText>
            <MudTextField Label="Enter Your Height (cm)" @bind-Value="HealthModel.UserHeightInCm" Disabled="@IsHeightLocked" />
            <MudIconButton Icon="@((IsHeightLocked) ? Icons.Material.Filled.Edit : Icons.Material.Filled.Lock)" OnClick="ToggleHeightLock" />
            <MudButton Color="Color.Primary" OnClick="FetchHealthDataAsync">Calculate</MudButton>
        </MudCardContent>
    </MudCard>

    <!-- Warnings -->
    @if (!string.IsNullOrEmpty(HeightWarning))
    {
        <MudAlert Severity="Severity.Warning">@HeightWarning</MudAlert>
    }

    <!-- Sitting Timer -->
    <MudCard Class="mt-4">
        <MudCardContent>
            <MudText Typo="Typo.h6">Sitting Timer</MudText>
            <MudText Typo="Typo.subtitle1">Notification: @SittingNotification</MudText>
            <MudText Typo="Typo.subtitle2">Elapsed Time: @ElapsedTime.ToString("hh\\:mm\\:ss")</MudText>
        </MudCardContent>
    </MudCard>
</MudContainer>
